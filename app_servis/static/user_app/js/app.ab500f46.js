(function(){"use strict";var e={9393:function(e,t,n){var o=n(7195),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("nav",[t("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),t("router-link",{attrs:{to:"/brendovi"}},[e._v("Brendovi")]),e._v(" | "),t("router-link",{attrs:{to:"/prijavi-promenu"}},[e._v("Prijavi promenu podataka")])],1),t("router-view")],1)},i=[],a=n(1001),l={},s=(0,a.Z)(l,r,i,!1,null,null,null),u=s.exports,f=n(2241),c=function(){var e=this,t=e._self._c;return t("div",[t("AppHeader",{attrs:{title:e.headerTitle}}),t("button",{on:{click:function(t){return e.prev()}}},[e._v("Prethodno")]),e._v(" ... "),t("button",{on:{click:function(t){return e.next()}}},[e._v("Sledece")]),e.sviTelefoniIDs?t("TelefonList",{attrs:{telefoniIDs:e.sviTelefoniIDs.slice(10*e.current,10*e.current+10)}}):t("p",[e._v("Lista još nije spremna")])],1)},d=[],p=function(){var e=this,t=e._self._c;return t("div",{staticClass:"appheader"},[t("h1",[e._v(e._s(e.title))])])},m=[],h={name:"AppHeader",props:{title:String}},v=h,b=(0,a.Z)(v,p,m,!1,null,"a8434704",null),_=b.exports,j=function(){var e=this,t=e._self._c;return t("div",e._l(e.telefoni,(function(e){return t("TelefonSingle",{key:e.id,attrs:{telefon:e}})})),1)},g=[],k=(n(560),function(){var e=this,t=e._self._c;return t("div",{staticClass:"telefon",on:{click:function(t){return e.kliknutiTelefon(e.telefon.id)}}},[t("h3",[e._v(e._s(e.telefon.naziv))])])}),T=[],P={name:"App",props:{telefon:Object},methods:{kliknutiTelefon(e){this.$router.push({name:"telefon",params:{id:e}})}}},y=P,w=(0,a.Z)(y,k,T,!1,null,"5c52a062",null),z=w.exports,x=n(408),O={name:"App",components:{TelefonSingle:z},data(){return{telefoni:[]}},methods:{...(0,x.nv)(["getTelefon"])},props:{telefoniIDs:Array},mounted(){this.getTelefon(this.$route.params.id).then((e=>{this.telefon=e}))},watch:{telefoniIDs(e){this.telefoni=[],e.map((e=>{this.getTelefon(e.id).then((e=>this.telefoni.push(e)))}))}}},S=O,B=(0,a.Z)(S,j,g,!1,null,"e3f56560",null),A=B.exports,I={name:"App",components:{AppHeader:_,TelefonList:A},data(){return{headerTitle:"Telefoni",current:0}},methods:{...(0,x.nv)(["fetchSviTelefoni"]),next(){10*this.current<this.sviTelefoniIDs.length&&this.current++},prev(){this.current>0&&this.current--}},mounted(){this.fetchSviTelefoni()},computed:{...(0,x.rn)(["sviTelefoniIDs"])}},M=I,$=(0,a.Z)(M,c,d,!1,null,null,null),Z=$.exports,D=function(){var e=this,t=e._self._c;return t("div",[t("AppHeader",{attrs:{title:e.headerTitle}}),t("b-alert",{attrs:{variant:e.statusnaPorukaTip,show:null!=e.statusnaPoruka}},[e._v(" "+e._s(e.statusnaPoruka)+" ")]),t("div",[t("b-container",{attrs:{fluid:""}},[t("b-row",[t("b-col",{attrs:{sm:"3"}},[t("label",{attrs:{for:"ime"}},[e._v("Ime i Prezime")])]),t("b-col",{attrs:{sm:"9"}},[t("b-form-input",{attrs:{id:"ime",state:e.validnoIme},model:{value:e.forma.ime,callback:function(t){e.$set(e.forma,"ime",t)},expression:"forma.ime"}})],1)],1),t("b-row",[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v("Prezime")])]),t("b-col",{attrs:{sm:"9"}},[t("b-form-input",{attrs:{id:"prezime",state:e.validnoPrezime},model:{value:e.forma.prezime,callback:function(t){e.$set(e.forma,"prezime",t)},expression:"forma.prezime"}})],1)],1),t("b-row",[t("b-col",{attrs:{sm:"3"}},[t("label",[e._v(" Opisite koje podatke treba promeniti ili dodati ")])]),t("b-col",{attrs:{sm:"9"}},[t("b-form-textarea",{attrs:{id:"textarea",state:e.validnaPrijava,rows:"4"},model:{value:e.forma.prijava,callback:function(t){e.$set(e.forma,"prijava",t)},expression:"forma.prijava"}})],1)],1)],1),t("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.posalji()}}},[e._v("Posalji")])],1)],1)},H=[],C={name:"App",components:{AppHeader:_},data(){return{headerTitle:"Kreiraj narudzbinu",statusnaPoruka:null,statusnaPorukaTip:null,forma:{ime:null,prezime:null,promena:null}}},computed:{validnoIme(){return null==this.forma.ime?null:this.forma.ime.length>2},validnoPrezime(){return null==this.forma.prezime?null:this.forma.prezime.length>2},validnaPrijava(){return null==this.forma.prijava?null:this.forma.prijava.length>2}},methods:{posalji(){this.validnoIme&&this.validnoPrezime&&this.validnaPrijava&&fetch("http://alumni.raf.edu.rs/rs/api/prijava-promene",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(this.forma)}).then((e=>e.json())).then((e=>{console.log(e),e.error?(this.statusnaPoruka=e.error,this.statusnaPorukaTip="danger"):(this.statusnaPoruka="Prijava za promenu podataka je uspesno poslata",this.statusnaPorukaTip="success")}))}}},N=C,V=(0,a.Z)(N,D,H,!1,null,null,null),E=V.exports,F=function(){var e=this,t=e._self._c;return e.telefon?t("div",[t("AppHeader",{attrs:{title:e.telefon.naziv}}),t("div",{staticClass:"info"},[t("h3",[e._v("Opis")]),t("p",[e._v(e._s(e.telefon.opis))]),t("h3",[e._v("Cena")]),t("p",[e._v(e._s(e.telefon.cena))]),t("h3",[e._v("Brend")]),t("p",[e._v(e._s(e.computedBrendNaziv))]),t("h3",[e._v("Memorija")]),t("p",[e._v(e._s(e.computedMemorijaVelicina))]),t("button",{on:{click:e.kupiTelefon}},[e._v("Kupi")])])],1):e._e()},G=[],L={name:"TelefonView",components:{AppHeader:_},data(){return{telefon:null}},methods:{...(0,x.nv)(["getTelefon","getBrendovi","getMemorija","kupiTelefon"]),async fetchBrendNaziv(){if(this.telefon&&this.telefon.brend_id){await this.getBrendovi();const e=this.$store.state.brendovi.find((e=>e.id===this.telefon.brend_id));return e?e.naziv:"nepoznat"}return""},async fetchMemorijaVelicina(){if(this.telefon&&this.telefon.memorija_id){await this.getMemorija();const e=this.$store.state.memorije.find((e=>e.id===this.telefon.memorija_id));return e?e.velicina:"nepoznat"}return""},async kupiTelefon(){try{const e=await fetch("http://localhost:9000/stavkaNarudzbine",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telefon:this.telefon})});e.ok?console.log("Telefon uspešno kupljen!"):console.error("Greška prilikom kupovine telefona:",e.statusText)}catch(e){console.error("Greška prilikom slanja zahteva:",e)}}},computed:{computedBrendNaziv(){if(this.telefon&&this.telefon.brend_id){const e=this.$store.state.brendovi.find((e=>e.id===this.telefon.brend_id));return e?e.naziv:"nepoznat"}return""},computedMemorijaVelicina(){if(this.telefon&&this.telefon.memorija_id){const e=this.$store.state.memorije.find((e=>e.id===this.telefon.memorija_id));return e?e.velicina:"nepoznat"}return""}},mounted(){this.getTelefon(this.$route.params.id).then((async e=>{this.telefon=e,await this.fetchBrendNaziv(),await this.fetchMemorijaVelicina()}))}},J=L,K=(0,a.Z)(J,F,G,!1,null,"e7580142",null),X=K.exports,q=function(){var e=this,t=e._self._c;return t("div",[t("AppHeader",{attrs:{title:"Brendovi nasih telefona"}}),t("b-pagination",{attrs:{"total-rows":this.brendovi.length,"per-page":e.perPage,"aria-controls":"tabelaBrendovi"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}}),t("b-table",{attrs:{striped:"",hover:"",items:this.brendovi,fields:e.fields,"per-page":e.perPage,"current-page":e.currentPage,id:"tabelaBrendovi"},scopedSlots:e._u([{key:"cell(logo)",fn:function(n){return[n.value?t("img",{attrs:{src:`${n.value}`}}):e._e()]}}])})],1)},Q=[],R={name:"BrendView",components:{AppHeader:_},data(){return{perPage:10,currentPage:1,fields:[{key:"naziv",sortable:!0,label:"Brend"},{key:"logo",label:"",formatter:e=>e?"http://localhost:9000/brend"+e:null}]}},computed:{...(0,x.rn)(["brendovi"])},mounted(){this.fetchBrendovi()},methods:{...(0,x.nv)(["fetchBrendovi"])}},U=R,W=(0,a.Z)(U,q,Q,!1,null,"f7431752",null),Y=W.exports;o["default"].use(f.ZP);const ee=[{path:"/",name:"home",component:Z},{path:"/telefon/:id",name:"telefon",component:X},{path:"/brendovi",name:"BrendView",component:Y},{path:"/prijavi-promenu",name:"PrijavaView",component:E}],te=new f.ZP({mode:"history",base:"/user/",routes:ee});var ne=te,oe=n(4359),re=n(7244);n(7024);o["default"].use(x.ZP);var ie=new x.ZP.Store({state:{brendovi:[],telefoni:[],sviTelefoniIDs:[],memorije:[]},getters:{},mutations:{addBrendovi(e,t){e.brendovi=t},addMemorije(e,t){e.memorije=t},addTelefon(e,t){t&&t.id?o["default"].set(e.telefoni,t.id,t):console.error("Nevažeći objekat telefona ili nedostaje svojstvo 'id'.")},addSviTelefoniIDs(e,t){e.sviTelefoniIDs=t}},actions:{async getBrendovi({commit:e}){console.log("Fetching brendovi...");try{const t=await fetch("http://localhost:9000/brend"),n=await t.json();console.log("Fetched brendovi:",n),e("addBrendovi",n)}catch(t){console.error("Error fetching brendovi:",t)}},async getMemorija({commit:e}){console.log("Fetching memorije...");try{const t=await fetch("http://localhost:9000/memorija"),n=await t.json();console.log("Fetched memorije:",n),e("addMemorije",n)}catch(t){console.error("Error fetching memorije:",t)}},async getTelefon({commit:e,state:t},n){return new Promise((o=>{t.telefoni[n]?o(t.telefoni[n]):fetch(`http://localhost:9000/telefon/${n}`).then((e=>e.json())).then((t=>{e("addTelefon",t),o(t)})).catch((e=>{console.error("Error fetching telefon:",e)}))}))},async fetchSviTelefoni({commit:e}){fetch("http://localhost:9000/telefon").then((e=>e.json())).then((t=>e("addSviTelefoniIDs",t))).catch((e=>{console.error("Error fetching svi telefoni:",e)}))}},modules:{}});o["default"].use(oe.XG7),o["default"].use(re.A7),o["default"].config.productionTip=!1,new o["default"]({router:ne,store:ie,render:e=>e(u)}).$mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var a=1/0;for(f=0;f<e.length;f++){o=e[f][0],r=e[f][1],i=e[f][2];for(var l=!0,s=0;s<o.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[s])}))?o.splice(s--,1):(l=!1,i<a&&(a=i));if(l){e.splice(f--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,a=o[0],l=o[1],s=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(s)var f=s(n)}for(t&&t(o);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(f)},o=self["webpackChunktelefoni_vue"]=self["webpackChunktelefoni_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9393)}));o=n.O(o)})();
//# sourceMappingURL=app.ab500f46.js.map